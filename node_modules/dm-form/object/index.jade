index(bem='Input' attributes='label description')
  //- Workaround the inherit bug (feature?) with custom created attributes
  //- not visible in main template
  if @meta
    with @meta.properties as #properties
      with @meta.order as #tOrder
        with @meta.order === undefined ? Object.keys( @meta.properties || {} ) : @meta.order as #order
          view(is='{{ _layout }}' inherit)
  else
    with @properties as #properties
      with @order as #order
        with @order === undefined ? Object.keys( @properties || {} ) : @order as #order
          view(is='{{ _layout }}' inherit)

pure:(bem='InputObject')
  .&(class='{{ @class }}')
    each #order as #inputName
      with #properties[#inputName] as #input
        if resolvesDeps(value, #input.dependsOn, #input.dependsValue)
          view(is='dm-form:{{ #input.input }}' meta='{{ #input }}'
              object='{{ value }}' _name='{{ #inputName }}')

columns:(bem='Input')
  view(is='pure' inherit)