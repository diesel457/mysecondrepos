module.exports = class FormTextarea extends require('../input')
  view: __dirname
  style: __dirname
  name: 'dm-form:textarea'

  _getExtraFields: -> [
    'lazy'
  ]
  init: ->
    super
    @setAttribute 'lazy', true if @model.get('name') is '$id'
    unless @getAttribute('lazy')
      @model.ref '_value', 'value'

  lazySet: ->
    return unless @getAttribute('lazy')
    @model.setDiff 'value', @model.get('_value')